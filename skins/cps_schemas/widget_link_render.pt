<tal:block define="cells options/cells;
                   mode options/mode">
<tal:block condition="python: mode == 'view'"
  define="href python: cells[0]['widget_rendered'];
          content python: cells[1]['widget_rendered'];
          title python: cells[2]['widget_rendered'];">
<div style="margin-top: 1em;">
<img tal:replace="structure python:here.getImgTag('link_icon.gif')" />
<a href="" tal:attributes="href href;title title|nothing;
  target python: test(href.startswith('http'), 'CPS LINK', nothing);">
  <b tal:content="python: test(content, content, href)" />
</a>
<div style="padding-left: 1.5em;"><span tal:condition="title" tal:content="structure title" />
<div><a href="" class="url"
tal:attributes="href href;title title|nothing;
target python: test(href.startswith('http'), 'CPS LINK', nothing);"
tal:content="href" /></div>
<div>
</div>
</tal:block>
<tal:block condition="python: mode == 'edit'">
<table border="0" width="100%">
<tr tal:repeat="cell cells">
  <td valign="top" tal:content="cell/widget/label_edit"
    i18n:translate="" />
  <td valign="top"
    tal:content="structure cell/widget_rendered" />
</tr>
</table>
</tal:block>
</tal:block>
